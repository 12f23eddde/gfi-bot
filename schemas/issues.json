{
  "bsonType": "object",
  "description": "Additional issue information for RecGFI training",
  "required": [
    "owner",
    "name",
    "number",
    "resolver",
    "resolved_in",
    "resolver_commit_num",
    "events"
  ],
  "properties": {
    "owner": {
      "bsonType": "string",
      "description": "Issue's repository owner name"
    },
    "name": {
      "bsonType": "string",
      "description": "Issue's repository name"
    },
    "number": {
      "bsonType": "int",
      "description": "Issue number in GitHub"
    },
    "resolver": {
      "bsonType": "string",
      "description": "Issue resolver's GitHub user name"
    },
    "resolved_in": {
      "bsonType": ["int", "string"],
      "description": "If int, the PR number that resolved this issue. If string, the commit hash that resolved this issue."
    },
    "resolver_commit_num": {
      "bsonType": "int",
      "description": "Issue resolver's commits to this repo, before the issue is resolved"
    },
    "events": {
      "bsonType": "array",
      "description": "Issue events. For assigned, unassigned, labeled, unlabeled, referenced, cross-referenced, and commented events, additional fields are available",
      "items": {
        "bsonType": "object",
        "required": ["type", "time", "actor"],
        "properties": {
          "type": {
            "bsonType": "string",
            "description": "Type of the event"
          },
          "time": {
            "bsonType": ["date", "null"],
            "description": "The time when this event happened, can be null for some events"
          },
          "actor": {
            "bsonType": ["string", "null"],
            "description": "The GitHub user (login name) associated with the event, can be null for some events"
          }
        }
      }
    }
  }
}
